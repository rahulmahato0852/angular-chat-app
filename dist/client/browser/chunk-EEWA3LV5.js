import{$ as Ve,$a as ii,Aa as Li,B as Oe,Ba as Gi,Ca as _,D as Yn,Da as b,Ea as S,Eb as ie,F as Wn,Fa as Dt,Fb as oe,Ga as Zt,Ha as Re,Ia as pe,Ja as rs,Ka as as,La as ls,M as qn,Ma as ei,N as Y,Na as ti,O as Fi,Oa as $e,Ob as re,P as qt,Pa as je,Q as Kn,Qa as Vi,R as Ne,Ra as X,S as O,Sa as rt,T as se,Ta as Hi,U as Jn,Ua as cs,V as f,Va as Ct,W as Qn,X as Xn,Xa as Ui,Y as Kt,Ya as ds,Z as ee,_ as N,_a as $i,a as Ee,ab as at,b as Vn,ba as Bi,bb as ni,bc as vs,ca as Zn,cb as hs,d as ir,da as Jt,db as si,ea as He,f as ki,fa as Ue,g as Hn,ga as es,h as ue,ha as ts,ia as st,k as Un,ka as ve,la as Qt,m as Ii,ma as wt,n as $n,na as L,nb as ji,o as jn,oa as te,ob as us,pa as is,q as nt,qa as Tt,qb as ps,ra as ns,rb as fs,s as Q,sa as ss,t as zn,ta as ye,tb as ms,ua as Xt,ub as _s,v as Ge,va as K,vb as gs,w as Pi,wa as xe,x as Wt,xa as St,ya as ot,za as os}from"./chunk-IGSRUXQN.js";var ys=ie("GET ALL [USERS]"),Sl=ie("GET ALL [USERS] SUCCESS",oe()),Dl=ie("GET ALL [USERS] REJECTED",oe());var bs=ie("SET SELECTEDUSER",oe()),ws=ie("SEND MESSAGE",oe()),Ol=ie("SEND MESSAGE SUCCESS",oe()),Nl=ie("SEND MESSAGE REJECTED",oe()),Ts=ie("GET NEW MESSAGE",oe()),Ss=ie("GET MESSAGE",oe()),xl=ie("GET MESSAGE SUCCESS",oe()),Rl=ie("GET MESSAGE REJECTED",oe());var fe=Object.create(null);fe.open="0";fe.close="1";fe.ping="2";fe.pong="3";fe.message="4";fe.upgrade="5";fe.noop="6";var Et=Object.create(null);Object.keys(fe).forEach(t=>{Et[fe[t]]=t});var Ot={type:"error",data:"parser error"};var Es=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Os=typeof ArrayBuffer=="function",Ns=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Nt=({type:t,data:e},n,i)=>Es&&e instanceof Blob?n?i(e):Ds(e,i):Os&&(e instanceof ArrayBuffer||Ns(e))?n?i(e):Ds(new Blob([e]),i):i(fe[t]+(e||"")),Ds=(t,e)=>{let n=new FileReader;return n.onload=function(){let i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function Cs(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var zi;function xs(t,e){if(Es&&t.data instanceof Blob)return t.data.arrayBuffer().then(Cs).then(e);if(Os&&(t.data instanceof ArrayBuffer||Ns(t.data)))return e(Cs(t.data));Nt(t,!1,n=>{zi||(zi=new TextEncoder),e(zi.encode(n))})}var Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Rs.length;t++)xt[Rs.charCodeAt(t)]=t;var As=t=>{let e=t.length*.75,n=t.length,i,s=0,o,r,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let d=new ArrayBuffer(e),c=new Uint8Array(d);for(i=0;i<n;i+=4)o=xt[t.charCodeAt(i)],r=xt[t.charCodeAt(i+1)],a=xt[t.charCodeAt(i+2)],l=xt[t.charCodeAt(i+3)],c[s++]=o<<2|r>>4,c[s++]=(r&15)<<4|a>>2,c[s++]=(a&3)<<6|l&63;return d};var nr=typeof ArrayBuffer=="function",Rt=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ms(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:sr(t.substring(1),e)}:Et[n]?t.length>1?{type:Et[n],data:t.substring(1)}:{type:Et[n]}:Ot},sr=(t,e)=>{if(nr){let n=As(t);return Ms(n,e)}else return{base64:!0,data:t}},Ms=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var ks="",Is=(t,e)=>{let n=t.length,i=new Array(n),s=0;t.forEach((o,r)=>{Nt(o,!1,a=>{i[r]=a,++s===n&&e(i.join(ks))})})},Ps=(t,e)=>{let n=t.split(ks),i=[];for(let s=0;s<n.length;s++){let o=Rt(n[s],e);if(i.push(o),o.type==="error")break}return i};function Fs(){return new TransformStream({transform(t,e){xs(t,n=>{let i=n.length,s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);let o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{s=new Uint8Array(9);let o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}var Yi;function oi(t){return t.reduce((e,n)=>e+n.length,0)}function ri(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Bs(t,e){Yi||(Yi=new TextDecoder);let n=[],i=0,s=-1,o=!1;return new TransformStream({transform(r,a){for(n.push(r);;){if(i===0){if(oi(n)<1)break;let l=ri(n,1);o=(l[0]&128)===128,s=l[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(oi(n)<2)break;let l=ri(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(oi(n)<8)break;let l=ri(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),c=d.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(Ot);break}s=c*Math.pow(2,32)+d.getUint32(4),i=3}else{if(oi(n)<s)break;let l=ri(n,s);a.enqueue(Rt(o?l:Yi.decode(l),e)),i=0}if(s===0||s>t){a.enqueue(Ot);break}}}})}var Wi=4;function D(t){if(t)return or(t)}function or(t){for(var e in D.prototype)t[e]=D.prototype[e];return t}D.prototype.on=D.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};D.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};D.prototype.off=D.prototype.removeListener=D.prototype.removeAllListeners=D.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};D.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};D.prototype.emitReserved=D.prototype.emit;D.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};D.prototype.hasListeners=function(t){return!!this.listeners(t).length};var W=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ai(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}var rr=W.setTimeout,ar=W.clearTimeout;function be(t,e){e.useNativeTimers?(t.setTimeoutFn=rr.bind(W),t.clearTimeoutFn=ar.bind(W)):(t.setTimeoutFn=W.setTimeout.bind(W),t.clearTimeoutFn=W.clearTimeout.bind(W))}var lr=1.33;function Ls(t){return typeof t=="string"?cr(t):Math.ceil((t.byteLength||t.size)*lr)}function cr(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Gs(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Vs(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var li=class extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}},we=class extends D{constructor(e){super(),this.writable=!1,be(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new li(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=Rt(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=Gs(e);return n.length?"?"+n:""}};var js="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qi=64,dr={},Hs=0,ci=0,Us;function $s(t){let e="";do e=js[t%qi]+e,t=Math.floor(t/qi);while(t>0);return e}function di(){let t=$s(+new Date);return t!==Us?(Hs=0,Us=t):t+"."+$s(Hs++)}for(;ci<qi;ci++)dr[js[ci]]=ci;var zs=!1;try{zs=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Ys=zs;function Ki(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ys))return new XMLHttpRequest}catch{}if(!e)try{return new W[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function hr(){}var ur=function(){return new Ki({xdomain:!1}).responseType!=null}(),ui=class extends we{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let i=location.protocol==="https:",s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}let n=e&&e.forceBase64;this.supportsBinary=ur&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Ps(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Is(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=di()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new hi(this.uri(),e)}doWrite(e,n){let i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}},hi=(()=>{class t extends D{constructor(n,i){super(),be(this,i),this.opts=i,this.method=i.method||"GET",this.uri=n,this.data=i.data!==void 0?i.data:null,this.create()}create(){var n;let i=ai(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd;let s=this.xhr=new Ki(i);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=hr,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this.index],this.xhr=null}}onLoad(){let n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ws);else if(typeof addEventListener=="function"){let t="onpagehide"in W?"pagehide":"unload";addEventListener(t,Ws,!1)}}function Ws(){for(let t in hi.requests)hi.requests.hasOwnProperty(t)&&hi.requests[t].abort()}var ze=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),At=W.WebSocket||W.MozWebSocket,pi=!0,qs="arraybuffer";var Ks=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",fi=class extends we{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),n=this.opts.protocols,i=Ks?{}:ai(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=pi&&!Ks?n?new At(e,n):new At(e):new At(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let i=e[n],s=n===e.length-1;Nt(i,this.supportsBinary,o=>{let r={};pi||(i.options&&(r.compress=i.options.compress),this.opts.perMessageDeflate&&(typeof o=="string"?Buffer.byteLength(o):o.length)<this.opts.perMessageDeflate.threshold&&(r.compress=!1));try{pi?this.ws.send(o):this.ws.send(o,r)}catch{}s&&ze(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=di()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!At}};var mi=class extends we{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let n=Bs(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=Fs();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();let o=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();let r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this.writer.write(r).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let i=e[n],s=n===e.length-1;this.writer.write(i).then(()=>{s&&ze(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var Ji={websocket:fi,webtransport:mi,polling:ui};var pr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,fr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lt(t){if(t.length>2e3)throw"URI too long";let e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=pr.exec(t||""),o={},r=14;for(;r--;)o[fr[r]]=s[r]||"";return n!=-1&&i!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=mr(o,o.path),o.queryKey=_r(o,o.query),o}function mr(t,e){let n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function _r(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,o){s&&(n[s]=o)}),n}var _i=(()=>{class t extends D{constructor(n,i={}){super(),this.binaryType=qs,this.writeBuffer=[],n&&typeof n=="object"&&(i=n,n=null),n?(n=lt(n),i.hostname=n.host,i.secure=n.protocol==="https"||n.protocol==="wss",i.port=n.port,n.query&&(i.query=n.query)):i.host&&(i.hostname=lt(i.host).host),be(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vs(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){let i=Object.assign({},this.opts.query);i.EIO=Wi,i.transport=n,this.id&&(i.sid=this.id);let s=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new Ji[n](s)}open(){let n;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(n){let i=this.createTransport(n),s=!1;t.priorWebsocketSuccess=!1;let o=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",u=>{if(!s)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;t.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{let h=new Error("probe error");h.transport=i.name,this.emitReserved("upgradeError",h)}}))};function r(){s||(s=!0,p(),i.close(),i=null)}let a=u=>{let h=new Error("probe error: "+u);h.transport=i.name,r(),this.emitReserved("upgradeError",h)};function l(){a("transport closed")}function d(){a("socket closed")}function c(u){i&&u.name!==i.name&&r()}let p=()=>{i.removeListener("open",o),i.removeListener("error",a),i.removeListener("close",l),this.off("close",d),this.off("upgrading",c)};i.once("open",o),i.once("error",a),i.once("close",l),this.once("close",d),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||i.open()},200):i.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0,i=this.upgrades.length;for(;n<i;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let i=new Error("server error");i.code=n.data,this.onError(i);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){let o=this.writeBuffer[s].data;if(o&&(i+=Ls(o)),s>0&&i>this.maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}write(n,i,s){return this.sendPacket("message",n,i,s),this}send(n,i,s){return this.sendPacket("message",n,i,s),this}sendPacket(n,i,s,o){if(typeof i=="function"&&(o=i,i=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;let r={type:n,data:i,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){let n=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),n()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}onError(n){t.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){let i=[],s=0,o=n.length;for(;s<o;s++)~this.transports.indexOf(n[s])&&i.push(n[s]);return i}}return t.protocol=Wi,t})();var Gc=_i.protocol;function Js(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=lt(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}var nn={};ir(nn,{Decoder:()=>en,Encoder:()=>Zi,PacketType:()=>g,protocol:()=>to});var gr=typeof ArrayBuffer=="function",vr=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Qs=Object.prototype.toString,yr=typeof Blob=="function"||typeof Blob<"u"&&Qs.call(Blob)==="[object BlobConstructor]",br=typeof File=="function"||typeof File<"u"&&Qs.call(File)==="[object FileConstructor]";function kt(t){return gr&&(t instanceof ArrayBuffer||vr(t))||yr&&t instanceof Blob||br&&t instanceof File}function Mt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Mt(t[n]))return!0;return!1}if(kt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Mt(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Mt(t[n]))return!0;return!1}function Xs(t){let e=[],n=t.data,i=t;return i.data=Qi(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Qi(t,e){if(!t)return t;if(kt(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Qi(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Qi(t[i],e));return n}return t}function Zs(t,e){return t.data=Xi(t.data,e),delete t.attachments,t}function Xi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Xi(t[n],e);else if(typeof t=="object")for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Xi(t[n],e));return t}var wr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],to=5,g=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(g||{}),Zi=class{constructor(e){this.replacer=e}encode(e){return(e.type===g.EVENT||e.type===g.ACK)&&Mt(e)?this.encodeAsBinary({type:e.type===g.EVENT?g.BINARY_EVENT:g.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===g.BINARY_EVENT||e.type===g.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=Xs(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}};function eo(t){return Object.prototype.toString.call(t)==="[object Object]"}var en=class t extends D{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let i=n.type===g.BINARY_EVENT;i||n.type===g.BINARY_ACK?(n.type=i?g.EVENT:g.ACK,this.reconstructor=new tn(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(kt(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,i={type:Number(e.charAt(0))};if(g[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===g.BINARY_EVENT||i.type===g.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let r=e.substring(o,n);if(r!=Number(r)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(r)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(o,n)}else i.nsp="/";let s=e.charAt(n+1);if(s!==""&&Number(s)==s){let o=n+1;for(;++n;){let r=e.charAt(n);if(r==null||Number(r)!=r){--n;break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=this.tryParse(e.substr(n));if(t.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case g.CONNECT:return eo(n);case g.DISCONNECT:return n===void 0;case g.CONNECT_ERROR:return typeof n=="string"||eo(n);case g.EVENT:case g.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&wr.indexOf(n[0])===-1);case g.ACK:case g.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},tn=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=Zs(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ne(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Tr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ct=class extends D{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ne(e,"open",this.onopen.bind(this)),ne(e,"packet",this.onpacket.bind(this)),ne(e,"error",this.onerror.bind(this)),ne(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Tr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let i={type:g.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let r=this.ids++,a=n.pop();this._registerAckCallback(r,a),i.id=r}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){var i;let s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),r=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};r.withError=!0,this.acks[e]=r}emitWithAck(e,...n){return new Promise((i,s)=>{let o=(r,a)=>r?s(r):i(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:g.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){let i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case g.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case g.EVENT:case g.BINARY_EVENT:this.onevent(e);break;case g.ACK:case g.BINARY_ACK:this.onack(e);break;case g.DISCONNECT:this.ondisconnect();break;case g.CONNECT_ERROR:this.destroy();let i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,i=!1;return function(...s){i||(i=!0,n.packet({type:g.ACK,id:e,data:s}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:g.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let i of n)i.apply(this,e.data)}}};function Ye(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ye.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ye.prototype.reset=function(){this.attempts=0};Ye.prototype.setMin=function(t){this.ms=t};Ye.prototype.setMax=function(t){this.max=t};Ye.prototype.setJitter=function(t){this.jitter=t};var dt=class extends D{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,be(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ye({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let s=n.parser||nn;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _i(this.uri,this.opts);let n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let s=ne(n,"open",function(){i.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},r=ne(n,"error",o);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(r),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(ne(e,"ping",this.onping.bind(this)),ne(e,"data",this.ondata.bind(this)),ne(e,"error",this.onerror.bind(this)),ne(e,"close",this.onclose.bind(this)),ne(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ze(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new ct(this,e,n),this.nsps[e]=i),i}_destroy(e){let n=Object.keys(this.nsps);for(let i of n)if(this.nsps[i].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var It={};function Pt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=Js(t,e.path||"/socket.io"),i=n.source,s=n.id,o=n.path,r=It[s]&&o in It[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||r,l;return a?l=new dt(i,e):(It[s]||(It[s]=new dt(i,e)),l=It[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Pt,{Manager:dt,Socket:ct,io:Pt,connect:Pt});var k="top",$="bottom",G="right",P="left",gi="auto",Ae=[k,$,G,P],Te="start",We="end",io="clippingParents",vi="viewport",ht="popper",no="reference",sn=Ae.reduce(function(t,e){return t.concat([e+"-"+Te,e+"-"+We])},[]),yi=[].concat(Ae,[gi]).reduce(function(t,e){return t.concat([e,e+"-"+Te,e+"-"+We])},[]),Sr="beforeRead",Dr="read",Cr="afterRead",Er="beforeMain",Or="main",Nr="afterMain",xr="beforeWrite",Rr="write",Ar="afterWrite",so=[Sr,Dr,Cr,Er,Or,Nr,xr,Rr,Ar];function V(t){return t?(t.nodeName||"").toLowerCase():null}function x(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ae(t){var e=x(t).Element;return t instanceof e||t instanceof Element}function F(t){var e=x(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ut(t){if(typeof ShadowRoot>"u")return!1;var e=x(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Mr(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},s=e.attributes[n]||{},o=e.elements[n];!F(o)||!V(o)||(Object.assign(o.style,i),Object.keys(s).forEach(function(r){var a=s[r];a===!1?o.removeAttribute(r):o.setAttribute(r,a===!0?"":a)}))})}function kr(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],o=e.attributes[i]||{},r=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=r.reduce(function(l,d){return l[d]="",l},{});!F(s)||!V(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}var oo={name:"applyStyles",enabled:!0,phase:"write",fn:Mr,effect:kr,requires:["computeStyles"]};function H(t){return t.split("-")[0]}var me=Math.max,qe=Math.min,Se=Math.round;function pt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ft(){return!/^((?!chrome|android).)*safari/i.test(pt())}function le(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),s=1,o=1;e&&F(t)&&(s=t.offsetWidth>0&&Se(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Se(i.height)/t.offsetHeight||1);var r=ae(t)?x(t):window,a=r.visualViewport,l=!Ft()&&n,d=(i.left+(l&&a?a.offsetLeft:0))/s,c=(i.top+(l&&a?a.offsetTop:0))/o,p=i.width/s,u=i.height/o;return{width:p,height:u,top:c,right:d+p,bottom:c+u,left:d,x:d,y:c}}function Ke(t){var e=le(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Bt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ut(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function J(t){return x(t).getComputedStyle(t)}function on(t){return["table","td","th"].indexOf(V(t))>=0}function j(t){return((ae(t)?t.ownerDocument:t.document)||window.document).documentElement}function De(t){return V(t)==="html"?t:t.assignedSlot||t.parentNode||(ut(t)?t.host:null)||j(t)}function ro(t){return!F(t)||J(t).position==="fixed"?null:t.offsetParent}function Ir(t){var e=/firefox/i.test(pt()),n=/Trident/i.test(pt());if(n&&F(t)){var i=J(t);if(i.position==="fixed")return null}var s=De(t);for(ut(s)&&(s=s.host);F(s)&&["html","body"].indexOf(V(s))<0;){var o=J(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function _e(t){for(var e=x(t),n=ro(t);n&&on(n)&&J(n).position==="static";)n=ro(n);return n&&(V(n)==="html"||V(n)==="body"&&J(n).position==="static")?e:n||Ir(t)||e}function Je(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qe(t,e,n){return me(t,qe(e,n))}function ao(t,e,n){var i=Qe(t,e,n);return i>n?n:i}function Lt(){return{top:0,right:0,bottom:0,left:0}}function Gt(t){return Object.assign({},Lt(),t)}function Vt(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Pr=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Gt(typeof e!="number"?e:Vt(e,Ae))};function Fr(t){var e,n=t.state,i=t.name,s=t.options,o=n.elements.arrow,r=n.modifiersData.popperOffsets,a=H(n.placement),l=Je(a),d=[P,G].indexOf(a)>=0,c=d?"height":"width";if(!(!o||!r)){var p=Pr(s.padding,n),u=Ke(o),h=l==="y"?k:P,E=l==="y"?$:G,y=n.rects.reference[c]+n.rects.reference[l]-r[l]-n.rects.popper[c],v=r[l]-n.rects.reference[l],C=_e(o),A=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,M=y/2-v/2,m=p[h],w=A-u[c]-p[E],T=A/2-u[c]/2+M,R=Qe(m,T,w),U=l;n.modifiersData[i]=(e={},e[U]=R,e.centerOffset=R-T,e)}}function Br(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Bt(e.elements.popper,s)&&(e.elements.arrow=s))}var rn={name:"arrow",enabled:!0,phase:"main",fn:Fr,effect:Br,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ce(t){return t.split("-")[1]}var Lr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gr(t,e){var n=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:Se(n*s)/s||0,y:Se(i*s)/s||0}}function lo(t){var e,n=t.popper,i=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,d=t.adaptive,c=t.roundOffsets,p=t.isFixed,u=r.x,h=u===void 0?0:u,E=r.y,y=E===void 0?0:E,v=typeof c=="function"?c({x:h,y}):{x:h,y};h=v.x,y=v.y;var C=r.hasOwnProperty("x"),A=r.hasOwnProperty("y"),M=P,m=k,w=window;if(d){var T=_e(n),R="clientHeight",U="clientWidth";if(T===x(n)&&(T=j(n),J(T).position!=="static"&&a==="absolute"&&(R="scrollHeight",U="scrollWidth")),T=T,s===k||(s===P||s===G)&&o===We){m=$;var B=p&&T===w&&w.visualViewport?w.visualViewport.height:T[R];y-=B-i.height,y*=l?1:-1}if(s===P||(s===k||s===$)&&o===We){M=G;var I=p&&T===w&&w.visualViewport?w.visualViewport.width:T[U];h-=I-i.width,h*=l?1:-1}}var z=Object.assign({position:a},d&&Lr),de=c===!0?Gr({x:h,y},x(n)):{x:h,y};if(h=de.x,y=de.y,l){var q;return Object.assign({},z,(q={},q[m]=A?"0":"",q[M]=C?"0":"",q.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",q))}return Object.assign({},z,(e={},e[m]=A?y+"px":"",e[M]=C?h+"px":"",e.transform="",e))}function Vr(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,o=n.adaptive,r=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,d={placement:H(e.placement),variation:ce(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lo(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lo(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var co={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vr,data:{}};var bi={passive:!0};function Hr(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,o=s===void 0?!0:s,r=i.resize,a=r===void 0?!0:r,l=x(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(c){c.addEventListener("scroll",n.update,bi)}),a&&l.addEventListener("resize",n.update,bi),function(){o&&d.forEach(function(c){c.removeEventListener("scroll",n.update,bi)}),a&&l.removeEventListener("resize",n.update,bi)}}var ho={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hr,data:{}};var Ur={left:"right",right:"left",bottom:"top",top:"bottom"};function ft(t){return t.replace(/left|right|bottom|top/g,function(e){return Ur[e]})}var $r={start:"end",end:"start"};function wi(t){return t.replace(/start|end/g,function(e){return $r[e]})}function Xe(t){var e=x(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Ze(t){return le(j(t)).left+Xe(t).scrollLeft}function an(t,e){var n=x(t),i=j(t),s=n.visualViewport,o=i.clientWidth,r=i.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var d=Ft();(d||!d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+Ze(t),y:l}}function ln(t){var e,n=j(t),i=Xe(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=me(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=me(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Ze(t),l=-i.scrollTop;return J(s||n).direction==="rtl"&&(a+=me(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}function et(t){var e=J(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function Ti(t){return["html","body","#document"].indexOf(V(t))>=0?t.ownerDocument.body:F(t)&&et(t)?t:Ti(De(t))}function Me(t,e){var n;e===void 0&&(e=[]);var i=Ti(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=x(i),r=s?[o].concat(o.visualViewport||[],et(i)?i:[]):i,a=e.concat(r);return s?a:a.concat(Me(De(r)))}function mt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jr(t,e){var n=le(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function uo(t,e,n){return e===vi?mt(an(t,n)):ae(e)?jr(e,n):mt(ln(j(t)))}function zr(t){var e=Me(De(t)),n=["absolute","fixed"].indexOf(J(t).position)>=0,i=n&&F(t)?_e(t):t;return ae(i)?e.filter(function(s){return ae(s)&&Bt(s,i)&&V(s)!=="body"}):[]}function cn(t,e,n,i){var s=e==="clippingParents"?zr(t):[].concat(e),o=[].concat(s,[n]),r=o[0],a=o.reduce(function(l,d){var c=uo(t,d,i);return l.top=me(c.top,l.top),l.right=qe(c.right,l.right),l.bottom=qe(c.bottom,l.bottom),l.left=me(c.left,l.left),l},uo(t,r,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ht(t){var e=t.reference,n=t.element,i=t.placement,s=i?H(i):null,o=i?ce(i):null,r=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case k:l={x:r,y:e.y-n.height};break;case $:l={x:r,y:e.y+e.height};break;case G:l={x:e.x+e.width,y:a};break;case P:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var d=s?Je(s):null;if(d!=null){var c=d==="y"?"height":"width";switch(o){case Te:l[d]=l[d]-(e[c]/2-n[c]/2);break;case We:l[d]=l[d]+(e[c]/2-n[c]/2);break;default:}}return l}function ke(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,o=n.strategy,r=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?io:a,d=n.rootBoundary,c=d===void 0?vi:d,p=n.elementContext,u=p===void 0?ht:p,h=n.altBoundary,E=h===void 0?!1:h,y=n.padding,v=y===void 0?0:y,C=Gt(typeof v!="number"?v:Vt(v,Ae)),A=u===ht?no:ht,M=t.rects.popper,m=t.elements[E?A:u],w=cn(ae(m)?m:m.contextElement||j(t.elements.popper),l,c,r),T=le(t.elements.reference),R=Ht({reference:T,element:M,strategy:"absolute",placement:s}),U=mt(Object.assign({},M,R)),B=u===ht?U:T,I={top:w.top-B.top+C.top,bottom:B.bottom-w.bottom+C.bottom,left:w.left-B.left+C.left,right:B.right-w.right+C.right},z=t.modifiersData.offset;if(u===ht&&z){var de=z[s];Object.keys(I).forEach(function(q){var Ie=[G,$].indexOf(q)>=0?1:-1,Pe=[k,$].indexOf(q)>=0?"y":"x";I[q]+=de[Pe]*Ie})}return I}function dn(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,o=n.rootBoundary,r=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,d=l===void 0?yi:l,c=ce(i),p=c?a?sn:sn.filter(function(E){return ce(E)===c}):Ae,u=p.filter(function(E){return d.indexOf(E)>=0});u.length===0&&(u=p);var h=u.reduce(function(E,y){return E[y]=ke(t,{placement:y,boundary:s,rootBoundary:o,padding:r})[H(y)],E},{});return Object.keys(h).sort(function(E,y){return h[E]-h[y]})}function Yr(t){if(H(t)===gi)return[];var e=ft(t);return[wi(t),e,wi(e)]}function Wr(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,r=n.altAxis,a=r===void 0?!0:r,l=n.fallbackPlacements,d=n.padding,c=n.boundary,p=n.rootBoundary,u=n.altBoundary,h=n.flipVariations,E=h===void 0?!0:h,y=n.allowedAutoPlacements,v=e.options.placement,C=H(v),A=C===v,M=l||(A||!E?[ft(v)]:Yr(v)),m=[v].concat(M).reduce(function(it,Ce){return it.concat(H(Ce)===gi?dn(e,{placement:Ce,boundary:c,rootBoundary:p,padding:d,flipVariations:E,allowedAutoPlacements:y}):Ce)},[]),w=e.rects.reference,T=e.rects.popper,R=new Map,U=!0,B=m[0],I=0;I<m.length;I++){var z=m[I],de=H(z),q=ce(z)===Te,Ie=[k,$].indexOf(de)>=0,Pe=Ie?"width":"height",Z=ke(e,{placement:z,boundary:c,rootBoundary:p,altBoundary:u,padding:d}),he=Ie?q?G:P:q?$:k;w[Pe]>T[Pe]&&(he=ft(he));var Ut=ft(he),Fe=[];if(o&&Fe.push(Z[de]<=0),a&&Fe.push(Z[he]<=0,Z[Ut]<=0),Fe.every(function(it){return it})){B=z,U=!1;break}R.set(z,Fe)}if(U)for(var $t=E?3:1,xi=function(Ce){var bt=m.find(function(zt){var Be=R.get(zt);if(Be)return Be.slice(0,Ce).every(function(Ri){return Ri})});if(bt)return B=bt,"break"},yt=$t;yt>0;yt--){var jt=xi(yt);if(jt==="break")break}e.placement!==B&&(e.modifiersData[i]._skip=!0,e.placement=B,e.reset=!0)}}var hn={name:"flip",enabled:!0,phase:"main",fn:Wr,requiresIfExists:["offset"],data:{_skip:!1}};function qr(t,e,n){var i=H(t),s=[P,k].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[P,G].indexOf(i)>=0?{x:a,y:r}:{x:r,y:a}}function Kr(t){var e=t.state,n=t.options,i=t.name,s=n.offset,o=s===void 0?[0,0]:s,r=yi.reduce(function(c,p){return c[p]=qr(p,e.rects,o),c},{}),a=r[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=r}var un={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kr};function Jr(t){var e=t.state,n=t.name;e.modifiersData[n]=Ht({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var po={name:"popperOffsets",enabled:!0,phase:"read",fn:Jr,data:{}};function pn(t){return t==="x"?"y":"x"}function Qr(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,o=s===void 0?!0:s,r=n.altAxis,a=r===void 0?!1:r,l=n.boundary,d=n.rootBoundary,c=n.altBoundary,p=n.padding,u=n.tether,h=u===void 0?!0:u,E=n.tetherOffset,y=E===void 0?0:E,v=ke(e,{boundary:l,rootBoundary:d,padding:p,altBoundary:c}),C=H(e.placement),A=ce(e.placement),M=!A,m=Je(C),w=pn(m),T=e.modifiersData.popperOffsets,R=e.rects.reference,U=e.rects.popper,B=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,I=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,de={x:0,y:0};if(T){if(o){var q,Ie=m==="y"?k:P,Pe=m==="y"?$:G,Z=m==="y"?"height":"width",he=T[m],Ut=he+v[Ie],Fe=he-v[Pe],$t=h?-U[Z]/2:0,xi=A===Te?R[Z]:U[Z],yt=A===Te?-U[Z]:-R[Z],jt=e.elements.arrow,it=h&&jt?Ke(jt):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Lt(),bt=Ce[Ie],zt=Ce[Pe],Be=Qe(0,R[Z],it[Z]),Ri=M?R[Z]/2-$t-Be-bt-I.mainAxis:xi-Be-bt-I.mainAxis,Jo=M?-R[Z]/2+$t+Be+zt+I.mainAxis:yt+Be+zt+I.mainAxis,Ai=e.elements.arrow&&_e(e.elements.arrow),Qo=Ai?m==="y"?Ai.clientTop||0:Ai.clientLeft||0:0,An=(q=z?.[m])!=null?q:0,Xo=he+Ri-An-Qo,Zo=he+Jo-An,Mn=Qe(h?qe(Ut,Xo):Ut,he,h?me(Fe,Zo):Fe);T[m]=Mn,de[m]=Mn-he}if(a){var kn,er=m==="x"?k:P,tr=m==="x"?$:G,Le=T[w],Yt=w==="y"?"height":"width",In=Le+v[er],Pn=Le-v[tr],Mi=[k,P].indexOf(C)!==-1,Fn=(kn=z?.[w])!=null?kn:0,Bn=Mi?In:Le-R[Yt]-U[Yt]-Fn+I.altAxis,Ln=Mi?Le+R[Yt]+U[Yt]-Fn-I.altAxis:Pn,Gn=h&&Mi?ao(Bn,Le,Ln):Qe(h?Bn:In,Le,h?Ln:Pn);T[w]=Gn,de[w]=Gn-Le}e.modifiersData[i]=de}}var fn={name:"preventOverflow",enabled:!0,phase:"main",fn:Qr,requiresIfExists:["offset"]};function mn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function _n(t){return t===x(t)||!F(t)?Xe(t):mn(t)}function Xr(t){var e=t.getBoundingClientRect(),n=Se(e.width)/t.offsetWidth||1,i=Se(e.height)/t.offsetHeight||1;return n!==1||i!==1}function gn(t,e,n){n===void 0&&(n=!1);var i=F(e),s=F(e)&&Xr(e),o=j(e),r=le(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((V(e)!=="body"||et(o))&&(a=_n(e)),F(e)?(l=le(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Ze(o))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function Zr(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function s(o){n.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||s(o)}),i}function vn(t){var e=Zr(t);return so.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function yn(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bn(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var fo={placement:"bottom",modifiers:[],strategy:"absolute"};function mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function _o(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,o=s===void 0?fo:s;return function(a,l,d){d===void 0&&(d=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},fo,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],u=!1,h={state:c,setOptions:function(C){var A=typeof C=="function"?C(c.options):C;y(),c.options=Object.assign({},o,c.options,A),c.scrollParents={reference:ae(a)?Me(a):a.contextElement?Me(a.contextElement):[],popper:Me(l)};var M=vn(bn([].concat(i,c.options.modifiers)));return c.orderedModifiers=M.filter(function(m){return m.enabled}),E(),h.update()},forceUpdate:function(){if(!u){var C=c.elements,A=C.reference,M=C.popper;if(mo(A,M)){c.rects={reference:gn(A,_e(M),c.options.strategy==="fixed"),popper:Ke(M)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var m=0;m<c.orderedModifiers.length;m++){if(c.reset===!0){c.reset=!1,m=-1;continue}var w=c.orderedModifiers[m],T=w.fn,R=w.options,U=R===void 0?{}:R,B=w.name;typeof T=="function"&&(c=T({state:c,options:U,name:B,instance:h})||c)}}}},update:yn(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){y(),u=!0}};if(!mo(a,l))return h;h.setOptions(d).then(function(v){!u&&d.onFirstUpdate&&d.onFirstUpdate(v)});function E(){c.orderedModifiers.forEach(function(v){var C=v.name,A=v.options,M=A===void 0?{}:A,m=v.effect;if(typeof m=="function"){var w=m({state:c,name:C,instance:h,options:M}),T=function(){};p.push(w||T)}})}function y(){p.forEach(function(v){return v()}),p=[]}return h}}var ea=[ho,po,co,oo],wn=_o({defaultModifiers:ea});var ia=["*"];var na=["dialog"];var bo={animation:!0,transitionTimerDelayMs:5},sa=(()=>{let e=class e{constructor(){this.animation=bo.animation}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oa(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),s=parseFloat(n);return(i+s)*1e3}function wo(t){return typeof t=="string"}function Tn(t){return t!=null}function ra(t){return t&&t.then}function aa(t,e){return!e||typeof t.closest>"u"?null:t.closest(e)}function To(t){return(t||document.body).getBoundingClientRect()}function la(t){return e=>new Hn(n=>{let i=r=>t.run(()=>n.next(r)),s=r=>t.run(()=>n.error(r)),o=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:s,complete:o})})}function So(t=document){let e=t?.activeElement;return e?e.shadowRoot?So(e.shadowRoot):e:null}var ca=()=>{},{transitionTimerDelayMs:da}=bo,Si=new Map,tt=(t,e,n,i)=>{let s=i.context||{},o=Si.get(e);if(o)switch(i.runningTransition){case"continue":return Un;case"stop":t.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),Si.delete(e)}let r=n(e,i.animation,s)||ca;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>r()),Ii(void 0).pipe(la(t));let a=new ue,l=new ue,d=a.pipe(Wn(!0));Si.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:s});let c=oa(e);return t.runOutsideAngular(()=>{let p=Q(e,"transitionend").pipe(Y(d),Ge(({target:h})=>h===e)),u=zn(c+da).pipe(Y(d));Pi(u,p,l).pipe(Y(d)).subscribe(()=>{Si.delete(e),t.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()};var Do=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Co=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Eo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})(),Oo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var ge=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(ge||{});var Di=(t,e)=>e?e.some(n=>n.contains(t)):!1,go=(t,e)=>!e||aa(t,e)!=null,ha=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})(),ua=t=>ha?()=>setTimeout(()=>t(),100):t;function pa(t,e,n,i,s,o,r,a){n&&t.runOutsideAngular(ua(()=>{let l=u=>{let h=u.target;return u.button===2||Di(h,r)?!1:n==="inside"?Di(h,o)&&go(h,a):n==="outside"?!Di(h,o):go(h,a)||!Di(h,o)},d=Q(e,"keydown").pipe(Y(s),Ge(u=>u.which===ge.Escape),Fi(u=>u.preventDefault())),c=Q(e,"mousedown").pipe(nt(l),Y(s)),p=Q(e,"mouseup").pipe(qt(c),Ge(([u,h])=>h),Yn(0),Y(s));Pi([d.pipe(nt(u=>0)),p.pipe(nt(u=>1))]).subscribe(u=>t.run(()=>i(u)))}))}var No=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xo(t){let e=Array.from(t.querySelectorAll(No)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var fa=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let s=Q(e,"focusin").pipe(Y(n),nt(o=>o.target));Q(e,"keydown").pipe(Y(n),Ge(o=>o.which===ge.Tab),qt(s)).subscribe(([o,r])=>{let[a,l]=xo(e);(r===a||r===e)&&o.shiftKey&&(l.focus(),o.preventDefault()),r===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Q(e,"click").pipe(Y(n),qt(s),nt(o=>o[1])).subscribe(o=>o.focus())})},ma=(()=>{let e=class e{constructor(){this._element=f(at).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=/\s+/,ga=/  +/gi,va={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function ya(t,e){let[n,i]=va[t];return e&&i||n}var ba=/^left/,wa=/^right/,Ta=/^start/,Sa=/^end/;function Da(t,e){let[n,i]=e.split("-"),s=n.replace(ba,"start").replace(wa,"end"),o=[s];if(i){let r=i;(n==="left"||n==="right")&&(r=r.replace(Ta,"top").replace(Sa,"bottom")),o.push(`${s}-${r}`)}return t&&(o=o.map(r=>`${t}-${r}`)),o.join(" ")}function vo({placement:t,baseClass:e},n){let i=Array.isArray(t)?t:t.split(_a),s=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=i.findIndex(d=>d==="auto");o>=0&&s.forEach(function(d){i.find(c=>c.search("^"+d)!==-1)==null&&i.splice(o++,1,d)});let r=i.map(d=>ya(d,n.isRTL()));return{placement:r.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:d}){let c=new RegExp(e+"(-[a-z]+)*","gi"),p=d.elements.popper,u=d.placement,h=p.className;h=h.replace(c,""),h+=` ${Da(e,u)}`,h=h.trim().replace(ga," "),p.className=h}},hn,fn,rn,{enabled:!0,name:"flip",options:{fallbackPlacements:r}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function yo(t){return t}function Ca(){let t=f(ma),e=null;return{createPopper(n){if(!e){let s=(n.updatePopperOptions||yo)(vo(n,t));e=wn(n.hostElement,n.targetElement,s)}},update(){e&&e.update()},setOptions(n){if(e){let s=(n.updatePopperOptions||yo)(vo(n,t));e.setOptions(s)}},destroy(){e&&(e.destroy(),e=null)}}}function Ea(t){return e=>(e.modifiers.push(un,{name:"offset",options:{offset:()=>t}}),e)}var l0=new Date(1882,10,12),c0=new Date(2174,10,25);var d0=1e3*60*60*24;var En=1080,Oa=24*En,Na=12*En+793,h0=29*Oa+Na,u0=11*En+204;var Ro=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})(),xa=(()=>{let e=class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=i=>i,this.container=null}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ei=(()=>{let e=class e{constructor(){this._disabled=!1,this.nativeElement=f(ve).nativeElement,this.tabindex=0}set disabled(i){this._disabled=i===""||i===!0}get disabled(){return this._disabled}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=Ve({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(s,o){s&2&&(Zt("tabIndex",o.disabled?-1:o.tabindex),xe("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0});let t=e;return t})(),Ao=(()=>{let e=class e{constructor(){this.item=f(Ei)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=Ve({type:e,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(s,o){s&2&&Zt("disabled",o.item.disabled)},standalone:!0});let t=e;return t})(),On=(()=>{let e=class e{constructor(){this.dropdown=f(Oi),this.nativeElement=f(ve).nativeElement}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=Ve({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(s,o,r){if(s&1&&ei(r,Ei,4),s&2){let a;$e(a=je())&&(o.menuItems=a)}},hostVars:4,hostBindings:function(s,o){s&1&&Re("keydown.ArrowUp",function(a){return o.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return o.dropdown.onKeyDown(a)})("keydown.Home",function(a){return o.dropdown.onKeyDown(a)})("keydown.End",function(a){return o.dropdown.onKeyDown(a)})("keydown.Enter",function(a){return o.dropdown.onKeyDown(a)})("keydown.Space",function(a){return o.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return o.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return o.dropdown.onKeyDown(a)}),s&2&&xe("dropdown-menu",!0)("show",o.dropdown.isOpen())},standalone:!0});let t=e;return t})(),Sn=(()=>{let e=class e{constructor(){this.dropdown=f(Oi),this.nativeElement=f(ve).nativeElement}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=Ve({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(s,o){s&2&&(Xt("aria-expanded",o.dropdown.isOpen()),xe("show",o.dropdown.isOpen()))},standalone:!0});let t=e;return t})(),Mo=(()=>{let e=class e extends Sn{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ts(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(s,o){s&1&&Re("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(a){return o.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return o.dropdown.onKeyDown(a)})("keydown.Home",function(a){return o.dropdown.onKeyDown(a)})("keydown.End",function(a){return o.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return o.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return o.dropdown.onKeyDown(a)}),s&2&&(Xt("aria-expanded",o.dropdown.isOpen()),xe("show",o.dropdown.isOpen()))},standalone:!0,features:[cs([{provide:Sn,useExisting:Kn(()=>e)}]),ns]});let t=e;return t})(),Oi=(()=>{let e=class e{constructor(){this._changeDetector=f($i),this._config=f(xa),this._document=f(at),this._ngZone=f(Tt),this._nativeElement=f(ve).nativeElement,this._destroyCloseHandlers$=new ue,this._bodyContainer=null,this._positioning=Ca(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Qt}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(Oe(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(i){if(i.container&&this._open&&this._applyContainer(this.container),i.placement&&!i.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body"}),this._applyPlacementClasses()),i.dropdownClass){let{currentValue:s,previousValue:o}=i.dropdownClass;this._applyCustomDropdownClass(s,o)}i.autoClose&&this._open&&(this.autoClose=i.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:i=>this.popperOptions(Ea([0,2])(i))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),pa(this._ngZone,this._document,this.autoClose,i=>{this.close(),i===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(i){let s=i.which,o=this._getMenuElements(),r=-1,a=null,l=this._isEventFromToggle(i);if(!l&&o.length&&o.forEach((d,c)=>{d.contains(i.target)&&(a=d),d===So(this._document)&&(r=c)}),s===ge.Space||s===ge.Enter){a&&(this.autoClose===!0||this.autoClose==="inside")&&Q(a,"click").pipe(Oe(1)).subscribe(()=>this.close());return}if(s===ge.Tab){if(i.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===i.target){this.container==="body"&&!i.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):i.shiftKey&&this.close();return}else if(this.container==="body"){let d=this._menu.nativeElement.querySelectorAll(No);i.shiftKey&&i.target===d[0]?(this._anchor.nativeElement.focus(),i.preventDefault()):!i.shiftKey&&i.target===d[d.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Q(i.target,"focusout").pipe(Oe(1)).subscribe(({relatedTarget:d})=>{this._nativeElement.contains(d)||this.close()});return}if(l||a){if(this.open(),o.length){switch(s){case ge.ArrowDown:r=Math.min(r+1,o.length-1);break;case ge.ArrowUp:if(this._isDropup()&&r===-1){r=o.length-1;break}r=Math.max(r-1,0);break;case ge.Home:r=0;break;case ge.End:r=o.length-1;break}o[r].focus()}i.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(i){return this._anchor.nativeElement.contains(i.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:i})=>!i).map(({nativeElement:i})=>i):[]}_positionMenu(){let i=this._menu;this.isOpen()&&i&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(i){return Array.isArray(i)?i[0]:i.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(i=null){if(this._resetContainer(),i==="body"){let s=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",s.style.position="static",o.style.zIndex="1055",o.appendChild(s),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(i,s){let o=this.container==="body"?this._bodyContainer:this._nativeElement;o&&(s&&o.classList.remove(s),i&&o.classList.add(i))}_applyPlacementClasses(i){if(this._menu){i||(i=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let s=i.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(s),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(s))}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=Ve({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(s,o,r){if(s&1&&(ei(r,On,5),ei(r,Sn,5)),s&2){let a;$e(a=je())&&(o._menu=a.first),$e(a=je())&&(o._anchor=a.first)}},hostVars:2,hostBindings:function(s,o){s&2&&xe("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[Kt.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[Jt]});let t=e;return t})();var ko=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})(),Ra=(()=>{let e=class e{constructor(){this._ngbConfig=f(sa),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_t=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var Aa=(()=>{let e=class e{constructor(){this._document=f(at)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),s=this._document.body,o=s.style,{overflow:r,paddingRight:a}=o;if(i>0){let l=parseFloat(window.getComputedStyle(s).paddingRight);o.paddingRight=`${l+i}px`}return o.overflow="hidden",()=>{i>0&&(o.paddingRight=a),o.overflow=r}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ma=(()=>{let e=class e{constructor(){this._nativeElement=f(ve).nativeElement,this._zone=f(Tt)}ngOnInit(){this._zone.onStable.asObservable().pipe(Oe(1)).subscribe(()=>{tt(this._zone,this._nativeElement,(i,s)=>{s&&To(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return tt(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ee({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(s,o){s&2&&(St("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),xe("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ct],decls:0,vars:0,template:function(s,o){},encapsulation:2});let t=e;return t})(),Ci=class{update(e){}close(e){}dismiss(e){}},ka=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ia=["animation","backdropClass"],Dn=class{_applyWindowOptions(e,n){ka.forEach(i=>{Tn(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){Ia.forEach(i=>{Tn(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Y(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Y(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,s){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new ue,this._dismissed=new ue,this._hidden=new ue,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();ra(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ii(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wt(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Cn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Cn||{}),Pa=(()=>{let e=class e{constructor(){this._document=f(at),this._elRef=f(ve),this._zone=f(Tt),this._closed$=new ue,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Qt,this.shown=new ue,this.hidden=new ue}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":wo(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Oe(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,s={animation:this.animation,runningTransition:"stop"},o=tt(this._zone,i,()=>i.classList.remove("show"),s),r=tt(this._zone,this._dialogEl.nativeElement,()=>{},s),a=Wt(o,r);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},s=tt(this._zone,this._elRef.nativeElement,(r,a)=>{a&&To(r),r.classList.add("show")},i),o=tt(this._zone,this._dialogEl.nativeElement,()=>{},i);Wt(s,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Q(i,"keydown").pipe(Y(this._closed$),Ge(o=>o.which===ge.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Cn.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let s=!1;Q(this._dialogEl.nativeElement,"mousedown").pipe(Y(this._closed$),Fi(()=>s=!1),qn(()=>Q(i,"mouseup").pipe(Y(this._closed$),Oe(1))),Ge(({target:o})=>i===o)).subscribe(()=>{s=!0}),Q(i,"click").pipe(Y(this._closed$)).subscribe(({target:o})=>{i===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!s&&this._zone.run(()=>this.dismiss(Cn.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let s=i.querySelector("[ngbAutofocus]"),o=xo(i)[0];(s||o||i).focus()}}_restoreFocus(){let i=this._document.body,s=this._elWithFocus,o;s&&s.focus&&i.contains(s)?o=s:o=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&tt(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ee({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(s,o){if(s&1&&ti(na,7),s&2){let r;$e(r=je())&&(o._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(s,o){s&2&&(Xt("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),St("modal d-block"+(o.windowClass?" "+o.windowClass:"")),xe("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ct],ngContentSelectors:ia,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(s,o){s&1&&(rs(),_(0,"div",1,0)(2,"div",2),as(3),b()()),s&2&&St("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),Fa=(()=>{let e=class e{constructor(){this._applicationRef=f(ds),this._injector=f(st),this._environmentInjector=f(Bi),this._document=f(at),this._scrollBar=f(Aa),this._activeWindowCmptHasChanged=new ue,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Qt;let i=f(Tt);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let s=this._windowCmpts[this._windowCmpts.length-1];fa(i,s.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(s.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,s,o){let r=o.container instanceof HTMLElement?o.container:Tn(o.container)?this._document.querySelector(o.container):this._document.body;if(!r)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Ci;i=o.injector||i;let l=i.get(Bi,null)||this._environmentInjector,d=this._getContentRef(i,l,s,a,o),c=o.backdrop!==!1?this._attachBackdrop(r):void 0,p=this._attachWindowComponent(r,d.nodes),u=new Dn(p,d,c,o.beforeDismiss);return this._registerModalRef(u),this._registerWindowCmpt(p),u.hidden.pipe(Oe(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=h=>{u.close(h)},a.dismiss=h=>{u.dismiss(h)},a.update=h=>{u.update(h)},u.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),u}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(s=>s.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let s=ii(Ma,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(i,s){let o=ii(Pa,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:s});return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_getContentRef(i,s,o,r,a){return o?o instanceof is?this._createFromTemplateRef(o,r):wo(o)?this._createFromString(o):this._createFromComponent(i,s,o,r,a):new _t([])}_createFromTemplateRef(i,s){let o={$implicit:s,close(a){s.close(a)},dismiss(a){s.dismiss(a)}},r=i.createEmbeddedView(o);return this._applicationRef.attachView(r),new _t([r.rootNodes],r)}_createFromString(i){let s=this._document.createTextNode(`${i}`);return new _t([[s]])}_createFromComponent(i,s,o,r,a){let l=st.create({providers:[{provide:Ci,useValue:r}],parent:i}),d=ii(o,{environmentInjector:s,elementInjector:l}),c=d.location.nativeElement;return a.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new _t([[c]],d.hostView,d)}_setAriaHidden(i){let s=i.parentElement;s&&i!==this._document.body&&(Array.from(s.children).forEach(o=>{o!==i&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let s=()=>{let o=this._modalRefs.indexOf(i);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(s,s)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let s=this._windowCmpts.indexOf(i);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ba=(()=>{let e=class e{constructor(){this._injector=f(st),this._modalStack=f(Fa),this._config=f(Ra)}open(i,s={}){let o=Ee(Vn(Ee({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._injector,i,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Io=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({providers:[Ba]});let t=e;return t})();var Po=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Fo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Bo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Lo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Go=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Vo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Ho=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Uo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var $o=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var p0=new se("live announcer delay",{providedIn:"root",factory:()=>100});var jo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var zo=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})(),La=[Do,Co,Eo,Oo,Ro,ko,Io,Po,zo,Fo,Bo,Lo,Go,Vo,Ho,Uo,$o,jo],f0=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({imports:[La,Do,Co,Eo,Oo,Ro,ko,Io,Po,zo,Fo,Bo,Lo,Go,Vo,Ho,Uo,$o,jo]});let t=e;return t})();var O0=new se("Ng Glyph Config");var N0=new se("NgGlyphsToken");function Va(t){return t==null?"":/^\d+$/.test(t)?`${t}px`:t}var Ha=new se("Ng Icon Pre Processor"),Ua=new se("Ng Icon Post Processor");function $a(){return f(Ha,{optional:!0})??(t=>t)}function ja(){return f(Ua,{optional:!0})??(()=>{})}var za=new se("Ng Icon Config"),Ya={size:"1em"};function Wa(){return f(za,{optional:!0})??Ya}var qa=new se("Ng Icon Loader Token");var Ka=new se("Ng Icon Cache Token");function Ja(){return f(qa,{optional:!0})}function Qa(){return f(Ka,{optional:!0})}function Xa(t){return[{provide:Ni,useFactory:e=>Ee(Ee({},e?.reduce((n,i)=>Ee(Ee({},n),i),{})),t),deps:[[Ni,new Qn,new Xn]],multi:!0}]}var Ni=new se("Icons Token");function Za(){return f(Ni,{optional:!0})??[]}function el(t){return typeof t=="string"?Promise.resolve(t):$n(t)?jn(t):t}function tl(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(e,n,i)=>i?i.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,e=>e.toLowerCase())}var il=new se("Ng Icon Logger"),Nn=class{log(e){console.log(e)}warn(e){console.warn(e)}error(e){console.error(e)}};function nl(){return f(il,{optional:!0})??new Nn}var vt=(()=>{let e=class e{constructor(){this.config=Wa(),this.icons=Za(),this.loader=Ja(),this.cache=Qa(),this.preProcessor=$a(),this.postProcessor=ja(),this.injector=f(st),this.elementRef=f(ve),this.logger=nl(),this.size=this.config.size,this.color=this.config.color}set name(i){this.setIcon(i)}set svg(i){this.setSvg(i)}ngOnChanges(i){i.size&&this.setIconSize(),i.color&&this.setIconColor(),i.strokeWidth&&this.setIconStrokeWidth()}ngOnInit(){this.setIconStyles()}setIconColor(){this.elementRef.nativeElement.style.removeProperty("color"),this.color!==void 0&&this.elementRef.nativeElement.style.setProperty("color",this.color)}setIconSize(){this.elementRef.nativeElement.style.removeProperty("--ng-icon__size"),this.size!==void 0&&this.elementRef.nativeElement.style.setProperty("--ng-icon__size",this.size.toString())}setIconStrokeWidth(){this.elementRef.nativeElement.style.removeProperty("--ng-icon__stroke-width"),this.strokeWidth!==void 0&&this.elementRef.nativeElement.style.setProperty("--ng-icon__stroke-width",this.strokeWidth.toString())}setIconStyles(){this.setIconColor(),this.setIconSize(),this.setIconStrokeWidth()}setSvg(i){this.elementRef.nativeElement.innerHTML=this.preProcessor(i),this.postProcessor(this.elementRef.nativeElement)}setIcon(i){return ki(this,null,function*(){let s=tl(i);for(let o of[...this.icons].reverse())if(o[s]){this.setSvg(o[s]);return}if(this.loader){let o=yield this.requestIconFromLoader(i);if(o!==null){this.setSvg(o);return}}this.logger.warn(`No icon named ${i} was found. You may need to import it using the withIcons function.`)})}requestIconFromLoader(i){return new Promise(s=>{Zn(this.injector,()=>ki(this,null,function*(){if(this.cache){let a=this.cache.get(i);if(typeof a=="string"){s(a);return}if(a instanceof Promise){let l=yield a;s(l);return}}let o=el(this.loader(i));this.cache?.set(i,o);let r=yield o;this.cache?.set(i,r),s(r)}))})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=ee({type:e,selectors:[["ng-icon"]],inputs:{name:"name",svg:"svg",size:[Kt.HasDecoratorInputTransform,"size","size",Va],strokeWidth:"strokeWidth",color:"color"},standalone:!0,features:[ss,Jt,Ct],decls:0,vars:0,template:function(s,o){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size);height:var(--ng-icon__size);overflow:hidden}"],changeDetection:0});let t=e;return t})(),x0=(()=>{let e=class e{constructor(i){if(Object.keys(i).length===0)throw new Error("No icons have been provided. Ensure to include some icons by importing them using NgIconsModule.withIcons({ ... }).")}static withIcons(i){return{ngModule:e,providers:Xa(i)}}};e.\u0275fac=function(s){return new(s||e)(Jn(Ni))},e.\u0275mod=N({type:e}),e.\u0275inj=O({});let t=e;return t})();var Yo=(()=>{let e=class e{constructor(i){this.chatStore=i,this.selectedUser=null}ngOnInit(){this.chatStore.select(i=>i.chatReducer.selectedUser).subscribe(i=>{this.selectedUser=i})}onsubmit(i){this.chatStore.dispatch(ws({message:i.value.message,recevier:this.selectedUser?._id||""})),i.resetForm()}};e.\u0275fac=function(s){return new(s||e)(te(re))},e.\u0275cmp=ee({type:e,selectors:[["app-footer"]],decls:9,vars:0,consts:[["messageForm","ngForm"],[1,"bg-light","p-3","mt-1","gap-2","d-flex","align-items-center"],["size","26","name","heroPlus",1,"pointer"],[1,"w-100"],[1,"input-group",3,"ngSubmit"],[1,"input-group-text","bg-light-subtle","d-flex","justify-content-center","align-items-center"],["size","22","name","bootstrapEmojiSmile",1,"pointer"],["ngModel","","name","message","type","text","placeholder","Enter Message",1,"outline-b-i-none","form-control",2,"outline","none"],["size","23","name","heroMicrophone",1,"pointer"]],template:function(s,o){if(s&1){let r=Dt();_(0,"div",1),S(1,"ng-icon",2),_(2,"div",3)(3,"form",4,0),Re("ngSubmit",function(){He(r);let l=Vi(4);return Ue(o.onsubmit(l))}),_(5,"span",5),S(6,"ng-icon",6),b(),S(7,"input",7),b()(),S(8,"ng-icon",8),b()}},dependencies:[gs,us,ps,fs,_s,ms,vt]});let t=e;return t})();var Wo=(()=>{let e=class e{constructor(i,s){this.store=i,this.chatstore=s,this.ImgUrl="",this.user=void 0,this.selectedUser=null}ngOnInit(){this.store.select(i=>i.authReducer.user).subscribe(i=>{this.user=i}),this.chatstore.select(i=>i.chatReducer.selectedUser).subscribe(i=>{this.selectedUser=i})}};e.\u0275fac=function(s){return new(s||e)(te(re),te(re))},e.\u0275cmp=ee({type:e,selectors:[["app-chat-navbar"]],inputs:{ImgUrl:"ImgUrl"},decls:16,vars:2,consts:[[1,"card","m-0","p-0","shadow-sm","w-100"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-center","align-items-center","gap-3"],["alt","",1,"img",3,"src"],[1,"d-flex","justify-content-center","flex-column"],[1,"text-md","m-0","p-0"],[1,"text-sm","m-0","p-0"],[1,"d-flex","align-items-center","gap-1"],["size","20","name","bootstrapCameraVideo"],["size","10","name","bootstrapCaretDownFill"],["size","20","name","bootstrapSearch"],["size","20","name","bootstrapThreeDotsVertical"]],template:function(s,o){s&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"img",4),_(5,"div",5)(6,"span",6),X(7),b(),_(8,"span",7),X(9,"last seen today at 9:15 am"),b()()(),_(10,"div",3)(11,"div",8),S(12,"ng-icon",9)(13,"ng-icon",10),b(),S(14,"ng-icon",11)(15,"ng-icon",12),b()()()()),s&2&&(L(4),K("src",o.ImgUrl+(o.selectedUser==null?null:o.selectedUser.hero),wt),L(3),rt(o.selectedUser==null?null:o.selectedUser.name))},dependencies:[vt]});let t=e;return t})();function al(t,e){t&1&&(_(0,"div",0),S(1,"div",1),b())}function ll(t,e){t&1&&S(0,"img",7)}function cl(t,e){t&1&&S(0,"img",8)}function dl(t,e){if(t&1&&(_(0,"p",3)(1,"span",4),X(2),b(),ye(3,ll,1,0,"img",5)(4,cl,1,0,"img",6),b()),t&2){let n=e.$implicit,i=e.index,s=pe(2);K("ngClass",s.selectedUser&&s.selectedUser._id!==(n.sender==null?null:n.sender._id)?"justify-content-end":""),L(),K("ngClass",s.selectedUser&&s.selectedUser._id!==(n.sender==null?null:n.sender._id)?"text-bg-dark":""),L(),Hi(" ",n.message," "),L(),K("ngIf",s.sendloading&&s.allmessages.length-1===i&&s.selectedUser&&s.selectedUser._id!==(n.sender==null?null:n.sender._id)),L(),K("ngIf",s.selectedUser&&s.selectedUser._id!==(n.sender==null?null:n.sender._id))}}function hl(t,e){if(t&1&&ye(0,dl,5,5,"p",2),t&2){let n=pe();K("ngForOf",n.allmessages)}}var qo=(()=>{let e=class e{constructor(i){this.chatStore=i,this.socket=null,this.selectedUser=null,this.allmessages=[],this.loading=!1,this.sendloading=!1}ngAfterViewInit(){this.scrollToBottom()}ngOnInit(){this.socket?.on("send-response",i=>{i.sender?._id===this.selectedUser?._id&&this.chatStore.dispatch(Ts({newMSG:i})),this.scrollToBottom()}),this.chatStore.select(i=>i.chatReducer.allMessages).subscribe(i=>{this.allmessages=i}),this.chatStore.select(i=>i.chatReducer.loading).subscribe(i=>{this.loading=i}),this.chatStore.select(i=>i.chatReducer.sendloading).subscribe(i=>{this.sendloading=i})}scrollToBottom(){try{console.error(this.chatContainer),this.chatContainer&&(console.log(this.chatContainer),this.chatContainer.nativeElement.scrollTop=this.chatContainer.nativeElement.scrollHeight)}catch(i){console.error("Error scrolling to bottom:",i)}}};e.\u0275fac=function(s){return new(s||e)(te(re))},e.\u0275cmp=ee({type:e,selectors:[["app-chats"]],inputs:{chatContainer:"chatContainer",socket:"socket",selectedUser:"selectedUser"},decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"spinner-border","text-primary"],["id","chat-parent","class","d-flex  gap-1",3,"ngClass",4,"ngFor","ngForOf"],["id","chat-parent",1,"d-flex","gap-1",3,"ngClass"],[1,"badge","text-bg-light","px-2","py-2",3,"ngClass"],["height","12px","class","align-self-end","src","https://uxwing.com/wp-content/themes/uxwing/download/time-and-date/clock-icon.png","alt","",4,"ngIf"],["height","12px","class","align-self-end","src","https://www.svgrepo.com/show/6940/check-mark.svg","alt","",4,"ngIf"],["height","12px","src","https://uxwing.com/wp-content/themes/uxwing/download/time-and-date/clock-icon.png","alt","",1,"align-self-end"],["height","12px","src","https://www.svgrepo.com/show/6940/check-mark.svg","alt","",1,"align-self-end"]],template:function(s,o){s&1&&ye(0,al,2,0,"div",0)(1,hl,1,1),s&2&&ot(0,o.loading?0:1)},dependencies:[ni,hs,si]});let t=e;return t})();var pl=["childRef"],fl=t=>({"bg-success-subtle":t});function ml(t,e){t&1&&S(0,"div",38)}function _l(t,e){if(t&1){let n=Dt();_(0,"div",29),Re("click",function(){let s=He(n).$implicit,o=pe(2);return Ue(o.setSelectedStore(s))})("mouseenter",function(){let s=He(n).$index,o=pe(2);return o.hovered=!0,Ue(o.inx=s)})("mouseleave",function(){He(n);let s=pe(2);return Ue(s.hovered=!1)}),_(1,"div",30)(2,"div",31),ye(3,ml,1,0,"div",32),S(4,"img",8),b(),_(5,"div",33)(6,"h6",34),X(7),b(),_(8,"p",35),X(9,"Hello How are you?"),b()()(),_(10,"div",36)(11,"span",37),X(12,"Sunday"),b()()()}if(t&2){let n=e.$implicit,i=e.$index,s=pe(2);K("ngClass",Ui(4,fl,s.hovered&&s.inx===i)),L(3),K("ngIf",s.isOnline(n._id)),L(),ls("src",s.ImgUrl+n.hero,wt),L(3),rt(n.name)}}function gl(t,e){if(t&1&&Li(0,_l,13,6,"div",28,os),t&2){let n=pe();Gi(n.allUsers)}}function vl(t,e){t&1&&(_(0,"div",39),S(1,"div",40),b())}function yl(t,e){if(t&1&&(S(0,"app-chat-navbar",41),_(1,"div",42,0)(3,"div",43),S(4,"app-chats",44),b()(),_(5,"div",33),S(6,"app-footer"),b()),t&2){let n=pe();K("ImgUrl",n.ImgUrl),L(4),K("chatContainer",n.childElementRef)("socket",n.socket)("selectedUser",n.selectedUser)}}function bl(t,e){t&1&&(_(0,"div",45),es(),_(1,"svg",46),S(2,"polygon",47)(3,"rect",48)(4,"rect",49)(5,"rect",50)(6,"rect",51)(7,"path",52)(8,"circle",53)(9,"rect",54)(10,"circle",55)(11,"path",56)(12,"path",57)(13,"circle",58)(14,"circle",59)(15,"circle",60)(16,"circle",61)(17,"polygon",62)(18,"polygon",63)(19,"polygon",64)(20,"path",65)(21,"path",66)(22,"path",67)(23,"polygon",68)(24,"rect",69)(25,"rect",70)(26,"rect",71)(27,"rect",72)(28,"path",73),b()())}var Ko=(()=>{let e=class e{constructor(i,s,o,r){this.store=i,this.authstore=s,this.chatstore=o,this.userstore=r,this.ImgUrl="https://angular-chat-app.onrender.com/profiles/",this.socket=Pt("https://angular-chat-app.onrender.com"),this.hovered=!1,this.inx=-1,this.allUsers=[],this.selectedUser=null,this.user=void 0,this.loading=!1,this.ONLINE_USERS=[]}ngAfterViewInit(){this.childElementRef=this.childRef}ngOnInit(){this.socket.on("connect",()=>{this.socket.emit("join-app",this.user)}),this.socket.on("Online-res",i=>{this.ONLINE_USERS=i}),this.store.dispatch(ys()),this.store.select(i=>i.userReducer.allusers).subscribe(i=>{this.allUsers=i}),this.authstore.select(i=>i.authReducer.user).subscribe(i=>{this.user=i}),this.chatstore.select(i=>i.chatReducer.selectedUser).subscribe(i=>{this.selectedUser=i}),this.userstore.select(i=>i.userReducer.loading).subscribe(i=>{this.loading=i})}ngOnDestroy(){console.log("call"),this.socket.close()}setSelectedStore(i){this.chatstore.dispatch(bs({user:i})),this.chatstore.dispatch(Ss({recevier:this.selectedUser?._id||""}))}isOnline(i){return this.ONLINE_USERS.some(s=>s.uid.includes(i))}logOutUser(){this.store.dispatch(vs())}};e.\u0275fac=function(s){return new(s||e)(te(re),te(re),te(re),te(re))},e.\u0275cmp=ee({type:e,selectors:[["app-home"]],viewQuery:function(s,o){if(s&1&&ti(pl,5),s&2){let r;$e(r=je())&&(o.childRef=r.first)}},decls:36,vars:4,consts:[["childRef",""],[1,"container-fluid","px-0"],[1,"row","ps-0","g-0"],[1,"col-sm-4","gap-1","overflow-hidden","d-flex","vh-100","flex-column"],[1,"card"],[1,"card-body","bg-light"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],["alt","",1,"img",3,"src"],[1,"text-md","fw-semibold"],[1,"h-100","d-flex","justify-content-center","align-items-center","gap-3","py-2"],["size","21","name","bootstrapPeople"],["size","21","name","bootstrapCollection"],["size","21","name","bootstrapChatDots"],["ngbDropdown","",1,""],["ngbDropdownToggle","","size","21","name","bootstrapThreeDotsVertical"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem",""],["ngbDropdownItem","",1,"btn-outline-danger","btn",3,"click"],[1,"card","bg-light","mt-0","p-0"],[1,"card-body","p-1"],[1,"input-group"],["size","18","name","bootstrapSearch",1,"d-inline-block"],["type","text","placeholder","Search or start new chat","name","","id","",1,"text-md","outline-b-i-none","border-start-0","form-control"],[1,"card","flex-grow-1"],[1,"card-body","p-0","d-flex","flex-column",2,"height","1px"],[1,"overflow-y-scroll","scrollbar-sm","flex-grow-1","d-flex","flex-column"],[1,"col-sm-8","d-none","d-sm-flex","flex-column"],[1,"d-flex","pointer","border-top","p-1","py-2","border-1","border-secondary-subtle","m-0","justify-content-between","align-items-center",3,"ngClass"],[1,"d-flex","pointer","border-top","p-1","py-2","border-1","border-secondary-subtle","m-0","justify-content-between","align-items-center",3,"click","mouseenter","mouseleave","ngClass"],[1,"d-flex","gap-2","justify-content-between","align-items-center"],[1,"position-relative"],["style","width: 8px; height: 8px;","class"," end-0 top-0 position-absolute rounded-circle bg-success  ",4,"ngIf"],[1,""],[1,"m-0","text-md","text-capitalize"],[1,"m-0","text-sm"],[1,"align-self-start"],[1,"text-sm"],[1,"end-0","top-0","position-absolute","rounded-circle","bg-success",2,"width","8px","height","8px"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"spinner-border","text-primary"],[3,"ImgUrl"],[1,"flex-grow-1","scrollbar-sm","p-2","px-3","overflow-y-auto"],[1,"",2,"height","300px"],[3,"chatContainer","socket","selectedUser"],[1,"d-flex","justify-content-center","align-items-center","h-100"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","width","863.91732","height","364.20537","viewBox","0 0 863.91732 364.20537",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["points","311.959 119.745 0 119.745 0 222.156 11.817 222.156 11.817 248.941 38.601 222.156 311.959 222.156 311.959 119.745","fill","#f0f0f0"],["x","8.66553","y","129.71814","width","294.62811","height","81.92868","fill","#fff"],["x","34.72148","y","154.42552","width","141.85589","height","4.30497","fill","#f0f0f0"],["x","34.72148","y","169.31777","width","247.24292","height","4.30497","fill","#f0f0f0"],["x","34.72148","y","184.21003","width","247.00081","height","4.30497","fill","#f0f0f0"],["d","M692.07274,618.96676s1.487-31.15875,31.97119-27.537","transform","translate(-168.04134 -267.89732)","fill","#f0f0f0"],["cx","515.41796","cy","306.16087","r","15.2571","fill","#f0f0f0"],["x","512.9354","y","331.85294","width","4.30672","height","30.14703","fill","#f0f0f0"],["cx","666.92952","cy","180.07338","r","123.29665","fill","#3f3d56"],["d","M757.348,457.86815a32.62688,32.62688,0,0,1,50.081,0,36.26372,36.26372,0,1,0-51.27085-1.18987Q756.73918,457.28694,757.348,457.86815Z","transform","translate(-168.04134 -267.89732)","fill","#fff"],["d","M855.26,457.86815a32.627,32.627,0,0,1,50.08092,0,36.26371,36.26371,0,1,0-51.2708-1.18987Q854.65117,457.28694,855.26,457.86815Z","transform","translate(-168.04134 -267.89732)","fill","#fff"],["cx","601.97649","cy","151.39215","r","12.47434","fill","#3f3d56"],["cx","699.88499","cy","151.39215","r","12.47434","fill","#3f3d56"],["cx","578.08341","cy","210.89752","r","14.50548","fill","#000000"],["cx","744.8965","cy","210.89752","r","14.5055","fill","#000000"],["points","661.49 181.886 650.611 229.029 668.742 210.898 661.49 181.886","fill","#000000"],["points","717.39 363.205 705.038 352.839 705.326 363.205 701.49 363.205 701.183 352.244 684.507 363.205 677.526 363.205 701.059 347.737 700.147 315.258 699.466 290.728 703.293 290.623 703.984 315.258 704.894 347.708 723.354 363.205 717.39 363.205","fill","#3f3d56"],["points","659.363 363.205 647.012 352.839 647.3 363.205 643.474 363.205 643.167 352.244 626.49 363.205 619.509 363.205 643.033 347.737 642.122 315.258 641.441 290.728 645.276 290.623 645.967 315.258 646.868 347.708 665.328 363.205 659.363 363.205","fill","#3f3d56"],["d","M836.784,315.60813c-3.3831,0-6.36764,2.628-8.36294,6.66445-1.75872-6.06969-5.45374-10.29078-9.7689-10.29078a6.56326,6.56326,0,0,0-.87094.1463c-1.65871-6.4805-5.51368-11.02542-10.00816-11.02542-6.00841,0-10.8791,8.118-10.8791,18.13187s4.87073,18.13187,10.8791,18.13187a6.56119,6.56119,0,0,0,.87093-.14629c1.65871,6.4805,5.51369,11.02541,10.00817,11.02541,3.3831,0,6.36764-2.62795,8.36294-6.66444,1.75876,6.06971,5.45374,10.29077,9.7689,10.29077,6.00841,0,10.8791-8.118,10.8791-18.13187S842.79244,315.60813,836.784,315.60813Z","transform","translate(-168.04134 -267.89732)","fill","#3f3d56"],["d","M718.72328,451.807l-67.92039-11.01653c-3.42269-.55515-6.90789-1.11141-10.34147-.6282s-6.87069,2.1737-8.62107,5.16688a8.651,8.651,0,0,0,9.14985,12.853c-3.70741-.12023-7.60411-.19978-10.894,1.51369s-5.61946,5.87559-4.01553,9.22024a8.27667,8.27667,0,0,0,1.91922,2.4289,17.60582,17.60582,0,0,0,18.52289,3.14128c-2.50047,3.58582-7.46212,4.11838-11.7541,4.94866s-9.25362,3.258-9.41312,7.62664c-.17922,4.90869,5.66264,7.51763,10.47189,8.51687A137.41687,137.41687,0,0,0,712.648,489.3171a30.98,30.98,0,0,0,7.737-3.95049,17.43266,17.43266,0,0,0-7.05356-30.96345","transform","translate(-168.04134 -267.89732)","fill","#3f3d56"],["d","M1011.89005,507.47917a137.41884,137.41884,0,0,0-51.17256-57.63676,30.97519,30.97519,0,0,0-7.80737-3.80966,17.43272,17.43272,0,0,0-20.50879,24.24615l-5.31525-2.74921Q943.09323,497.98314,959.1,528.43656c1.61312,3.06929,3.26318,6.18918,5.71292,8.64309s5.86648,4.18514,9.31075,3.78525a8.6006,8.6006,0,0,0,6.77916-12.2999,16.64264,16.64264,0,0,0,5.752,5.05979c3.34648,1.59972,8.07321.9603,9.7823-2.33177a8.27455,8.27455,0,0,0,.78809-2.99368,17.60592,17.60592,0,0,0-8.62117-16.69248c4.36853-.1565,7.77622,3.48909,11.01912,6.42052,3.24327,2.93143,8.1652,5.43808,11.75289,2.94008C1015.40712,518.16062,1013.98161,511.92354,1011.89005,507.47917Z","transform","translate(-168.04134 -267.89732)","fill","#3f3d56"],["points","55.757 0 506 0 506 147.807 488.945 147.807 488.945 186.463 450.289 147.807 55.757 147.807 55.757 0","fill","#cacaca"],["x","68.26381","y","14.39335","width","425.22943","height","118.24561","fill","#fff"],["x","102.45877","y","48.91591","width","204.73707","height","6.21326","fill","#000000"],["x","102.45877","y","70.40954","width","356.83952","height","6.21326","fill","#000000"],["x","102.45877","y","91.90316","width","356.49009","height","6.21326","fill","#000000"],["d","M1030.95866,632.10268h-381a1,1,0,0,1,0-2h381a1,1,0,0,1,0,2Z","transform","translate(-168.04134 -267.89732)","fill","#cacaca"]],template:function(s,o){s&1&&(_(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),S(7,"img",8),_(8,"span",9),X(9),b()(),_(10,"div",10),S(11,"ng-icon",11)(12,"ng-icon",12)(13,"ng-icon",13),_(14,"div",14),S(15,"ng-icon",15),_(16,"div",16)(17,"button",17),X(18,"Profile"),b(),_(19,"button",18),Re("click",function(){return o.logOutUser()}),X(20,"Logout"),b(),_(21,"button",17),X(22,"Something else is here"),b()()()()()()(),_(23,"div",19)(24,"div",20)(25,"div",21),S(26,"ng-icon",22)(27,"input",23),b()()(),_(28,"div",24)(29,"div",25)(30,"div",26),ye(31,gl,2,0)(32,vl,2,0),b()()()(),_(33,"div",27),ye(34,yl,7,4)(35,bl,29,0),b()()()),s&2&&(L(7),K("src",o.ImgUrl+(o.user==null?null:o.user.hero),wt),L(2),rt(o.user==null?null:o.user.name),L(22),ot(31,o.loading?32:31),L(3),ot(34,o.selectedUser?34:35))},dependencies:[ni,si,Oi,Mo,On,Ei,Ao,vt,Yo,Wo,qo],styles:[".img[_ngcontent-%COMP%]{height:38px;width:38px;border-radius:50%;object-fit:contain;object-position:center}ng-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;overflow:visible}.text-md[_ngcontent-%COMP%]{font-size:15px}.text-sm[_ngcontent-%COMP%]{font-size:12px}.scrollbar-sm[_ngcontent-%COMP%]::-webkit-scrollbar{width:3px}.scrollbar-sm[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.scrollbar-sm[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#05b105}"]});let t=e;return t})();var wl=[{path:"",component:Ko}],H0=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=N({type:e}),e.\u0275inj=O({imports:[ji.forChild(wl),ji]});let t=e;return t})();export{ys as a,Sl as b,Dl as c,bs as d,ws as e,Ol as f,Nl as g,Ts as h,Ss as i,xl as j,Rl as k,ko as l,f0 as m,x0 as n,H0 as o};
